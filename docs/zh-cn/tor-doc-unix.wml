## translation metadata
# Based-On-Revision: 20671
# Translation-Priority: 3-low
# Last-Translator: peihanru AT gmail.com

#include "head.wmi" TITLE="Tor: Linux/BSD/Unix 安装指导" CHARSET="UTF-8"

<div class="center">

<div class="main-column">

<h1>在 Linux/BSD/Unix 上运行 <a href="<page index>">Tor</a> 客户端</h1>
<br />

<p>
<b>
请注意此处提供的是运行 Tor 客户端的安装指导。
如果你想要贡献流量帮助网络增长（请这么做），
请阅读<a href="<page docs/tor-doc-relay>">配置中继</a>指导。
</b>
</p>

<hr />
<a id="installing"></a>
<h2><a class="anchor" href="#installing">第一步：下载并安装 Tor</a></h2>
<br />

<p>
Tor 最新发布版本可以在<a href="<page download>">下载</a>页面获得。
我们同样提供了 Debian，Red Hat，Gentoo，*BSD 等的软件包。
如果你的操作系统是 Ubuntu，不要使用默认的软件包：请使用<a
href="<page docs/debian>#ubuntu">我们的 deb 仓库</a>。
</p>

<p>
如果你打算从源文件编译，首先安装 <a href="http://www.monkey.org/~provos/libevent/">libevent</a>，
并确认已安装 openssl 和 zlib（包括 -devel 软件包）。
然后执行：<br />
<tt>tar xzf tor-<version-stable>.tar.gz; cd tor-<version-stable><br />
./configure &amp;&amp; make</tt><br />
现在你可以通过 <tt>src/or/tor</tt> 运行 Tor，
或者你可以执行 <tt>make install</tt>（需要 root 权限）把它安装到 /usr/local，
之后你就能通过 <tt>tor</tt> 启动 Tor。
</p>

<p>
默认状态下，Tor 被配置为客户端。它使用一个内置的默认配置文件，
大多数人不需要修改其中的任何设置。Tor 安装完毕。
</p>

<hr />
<a id="privoxy"></a>
<a id="polipo"></a>
<h2><a class="anchor" href="#polipo">第二步：为 Web 浏览安装 Polipo</a></h2>
<br />

<p>
Tor 安装结束后，你需要配置应用程序来使用它。
</p>

<p>
第一步是配置 Web 浏览。首先从软件仓库安装 <a
href="http://www.pps.jussieu.fr/~jch/software/polipo/">Polipo</a>。
Polipo 是一种缓存 Web 代理，能很好地支持 HTTP 的 pipelining，
因此适合 Tor 的延迟。Polipo 的版本至少应该是 1.0.4，因此早期的版本缺少 SOCKS 支持，
无法与 Tor 配合使用。
</p>

<p>
Polipo 安装完成后（通过软件包或源文件），<b>你需要配置 Polipo 使用 Tor</b>。
这里是为 Tor 准备的 <a
href="https://svn.torproject.org/svn/torbrowser/trunk/build-scripts/config/polipo.conf">Polipo
配置文件</a>，用它替换当前的 Polipo 配置文件（如 /etc/polipo/config 或 ~/.polipo）。
你需要重启 Polipo 以使修改生效。</p>

<p>如果愿意，你可以使用 Privoxy（<a
href="https://wiki.torproject.org/noreply/TheOnionRouter/PrivoxyConfig">示例配置</a>）。
需要说明的是，由于两个配置文件都设置了 8118 端口，你不能同时运行 Polipo 和 Privoxy。</p>

<hr />
<a id="using"></a>
<h2><a class="anchor" href="#using">第三步：配置应用程序使用 Tor</a></h2>
<br />

<p>
当 Tor 和 Polipo 安装结束后，你需要配置你的应用程序来使用它们。
第一步是配置 Web 浏览。
</p>

<p>
为了取得最佳的安全性，你应该使用 Firefox 和 Torbutton。安装
<a href="https://addons.mozilla.org/firefox/2275/">Torbutton 插件</a>，
然后重新启动 Firefox，就这么简单：
</p>

<img alt="Torbutton plugin for Firefox"
src="../img/screenshot-torbutton.png"
border="1">

<br />

<p>
如果你打算在没有安装 Tor 的计算机上使用 Firefox，
请阅读<a href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#SocksListenAddress">在
另一台计算机上运行 Tor 的 FAQ 条目</a>。
</p>

<p>
要让其他支持 HTTP 代理的应用程序使用 Tor，将它们指向 Polipo 即可（也就是 localhost 端口 8118）。
直接使用 SOCKS（即时通讯、Jabber、IRC 等），可将你的应用程序直接指向 Tor（localhost 端口 9050），
但是请阅读<a href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#SOCKSAndDNS">此 FAQ 条目</a>——你得明白这么做可能是危险的。
对于既不支持 SOCKS 也不支持 HTTP 的应用程序，考虑一下
<a href="http://tsocks.sourceforge.net/">tsocks</a> 或者
<a href="https://wiki.torproject.org/noreply/TheOnionRouter/TorifyHOWTO#socat">socat</a>。
</p>

<p>
如何 Tor 化（Torify）其他应用程序的信息请查看
<a href="https://wiki.torproject.org/noreply/TheOnionRouter/TorifyHOWTO">Torify
HOWTO</a>。
</p>

<hr />
<a id="verify"></a>
<h2><a class="anchor" href="#verify">第四步：确定它在工作</a></h2>
<br />

<p>
然后，你应该通过浏览器来验证你的 IP 地址已经匿名化了。
点击 <a href="https://check.torproject.org/">Tor 探测器</a>看看它是否认为你在使用 Tor。
（如果这个站点下线了，<a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#IsMyConnectionPrivate">此
FAQ 条目</a>有如何测试 Tor 的更多建议。）
</p>

<p>
如果你的个人防火墙限制你的计算机连接到它自己（包括 Fedora Core 4 上面的 SELinux 这样的东西），
一定要允许从本地应用程序到 Polipo（本地端口 8118）和 Tor（本地端口 9050）的连接。
如果你的防火墙阻挡向外的连接，那么至少让它能够连接 TCP 端口 80 和 443，
然后阅读<a href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#FirewalledClient">此 FAQ 条目</a>。
如果 SELinux 的配置使得 Tor 或者 Privoxy 无法正常运行，
在目录 /etc/selinux/targeted 下创建一个名为 booleans.local 的文件。
用你喜爱的文本编辑器修改这个文件加入“allow_ypbind=1”。
然后重启机器使修改生效。
</p>
<p>
如果它还是罢工，
那就看看<a href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#ItDoesntWork">此 FAQ 条目</a>寻找一些线索。
</p>

<hr />
<a id="relay"></a>
<h2><a class="anchor" href="#relay">第五步：配置中继</a></h2>
<br />

<p>
Tor 网络依靠志愿者们贡献带宽运行。运行中继的人越多，Tor 网络的速度就越快。
如果你的网络连接速度达到至少每秒 20KB，请运行一台中继以帮助 Tor。
我们有许多特性使得 Tor 中继的运行简单而方便，包括带宽的速率限制，
定制出口策略以避免滥用，以及对于动态 IP 地址的支持。
</p>

<p>
在互联网上的许多不同地方运行中继保护了 Tor 用户的安全。<a
href="https://wiki.torproject.org/noreply/TheOnionRouter/TorFAQ#RelayAnonymity">你自身的
匿名也能得到更好的保护</a>，因为站点不知道连接究竟来自你的电脑还是为他人传递。
</p>

<p>
阅读更详细的<a href="<page docs/tor-doc-relay>">配置中继</a>指导。
</p>

<hr />

<p>
如果你有改进本文档的建议，请<a href="<page contact>">告诉我们</a>。
谢谢！
</p>

  </div><!-- #main -->
</div>

#include <foot.wmi>

